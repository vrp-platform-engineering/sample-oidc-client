# VeriPark IDP - Quick Start Guide

> **âš ï¸ INTERNAL USE ONLY** - This file contains credentials for the test environment. Do not share externally.

---

## Test Environment

| Setting | Value |
|---------|-------|
| **IDP URL (Authority)** | `https://dev-ext-idp.envisionfinancial.ca` |
| **Discovery Document** | `https://dev-ext-idp.envisionfinancial.ca/.well-known/openid-configuration` |

> **ðŸ”’ VPN Required:** Access to the IDP URL requires VPN connection.

---

## Test Credentials

### Retail User

| Field | Value |
|-------|-------|
| **Username** | `john.doe` |
| **Password** | `Abc123456.` |

---

## Quick Test Flow

1. **Start the client application** (see README.md for setup)

2. **Navigate to the login page** and click "Login"

3. **You will be redirected to the IDP** at `https://dev-ext-idp.envisionfinancial.ca`

4. **Enter the test credentials above**

5. **Grant consent** (on first login only)

6. **You will be redirected back** to the client with tokens

---

## Client Configuration for Testing

Update `appsettings.json` with:

```json
{
  "OIDC": {
    "Authority": "https://dev-ext-idp.envisionfinancial.ca",
    "ClientId": "<your-client-id>",
    "ClientSecret": "<your-client-secret>",
    "RedirectUri": "https://localhost:9000/signin-oidc",
    "PostLogoutRedirectUri": "https://localhost:9000/signout-callback-oidc",
    "Scopes": "openid profile email offline_access member_id"
  }
}
```

> **Note:** Request your Client ID and Secret from VeriPark if you don't have them.

---

## Known Limitations

| Limitation | Description |
|------------|-------------|
| **Consent screen may not appear** | This test client has been previously registered with the IDP. The consent screen is only shown on first-time authorization. It will not appear again unless the test environment data has been reset. |
| **Self-signed certificates** | This test environment uses self-signed certificates generated by Azure Key Vault. You may need to set `"SkipCertificateValidation": true` in your client configuration. Production environments will use proper CA-signed certificates. |

---

## Troubleshooting

| Issue | Solution |
|-------|----------|
| SSL certificate errors | Set `"SkipCertificateValidation": true` in config (dev only) |
| "Invalid redirect_uri" | Ensure your callback URL is registered with VeriPark |
| Login page not loading | Verify the IDP URL is accessible from your network |
| No consent screen | See "Known Limitations" above - this is expected behavior |
